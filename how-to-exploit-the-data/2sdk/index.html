
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://aferre88.github.io/5gdrone-docs/how-to-exploit-the-data/2sdk/">
      
      
        <link rel="prev" href="../1mqtt-client/">
      
      
        <link rel="next" href="../3db/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Using the SorusBoxScan SDK - SorusBoxScan</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-the-sorusboxscan-sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SorusBoxScan" class="md-header__button md-logo" aria-label="SorusBoxScan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SorusBoxScan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using the SorusBoxScan SDK
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SorusBoxScan" class="md-nav__button md-logo" aria-label="SorusBoxScan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SorusBoxScan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to the SorusBoxScan Documentation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Example of data collection
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up the SorusBoxScan Device
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How to exploit the data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            How to exploit the data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1mqtt-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using an MQTT Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Using the SorusBoxScan SDK
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Using the SorusBoxScan SDK
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up a Virtual Environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting up a Virtual Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-linux-mac-os-or-similar" class="md-nav__link">
    <span class="md-ellipsis">
      On Linux, Mac OS or similar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-using-cmd" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows, using CMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-using-powershell" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows, using PowerShell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-unix-like-shells-eg-git-bash-cli" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows' UNIX-like shells (e.g. Git Bash CLI)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticating-with-github" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticating with GitHub
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      Update
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-the-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Import the SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-the-connection-to-the-drones-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Setup the connection to the drone's queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-signals-handling-function" class="md-nav__link">
    <span class="md-ellipsis">
      Create a signal's handling function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-the-connection" class="md-nav__link">
    <span class="md-ellipsis">
      Loop the connection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loop the connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asyncronous-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Asyncronous loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-messages-to-the-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Sending messages to the queue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sending messages to the queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sending-an-at-command-to-the-hat" class="md-nav__link">
    <span class="md-ellipsis">
      Sending an AT command to the hat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-instructions-to-the-drone-operator-via-the-instructions-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Sending instructions to the drone operator via the instructions topic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-and-unsubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      Subscribe and unsubscribe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subscribe and unsubscribe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-subscription-to-the-instructions-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Example subscription to the instructions queue
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Other functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-ask-the-hat-to-pause-sending-signals" class="md-nav__link">
    <span class="md-ellipsis">
      To ask the hat to pause sending signals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-ask-the-hat-to-resume-sending-signals" class="md-nav__link">
    <span class="md-ellipsis">
      To ask the hat to resume sending signals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-stop-the-loop-and-disconnect-from-the-mqtt-server" class="md-nav__link">
    <span class="md-ellipsis">
      To stop the loop and disconnect from the MQTT server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-signal-class" class="md-nav__link">
    <span class="md-ellipsis">
      The Signal class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Signal class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-lte-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a LTE network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-5g-nsa-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a 5G NSA network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-5g-sa-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a 5G SA network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-not-connected-to-a-network" class="md-nav__link">
    <span class="md-ellipsis">
      When not connected to a network
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-class-gpsposition" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Class: GPSPosition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Nested Class: GPSPosition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_datetimeself" class="md-nav__link">
    <span class="md-ellipsis">
      get_datetime(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_decimal_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_decimal_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dms_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_dms_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_altitude_metersself" class="md-nav__link">
    <span class="md-ellipsis">
      get_altitude_meters(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_speed_knotsself" class="md-nav__link">
    <span class="md-ellipsis">
      get_speed_knots(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_speed_kmhself" class="md-nav__link">
    <span class="md-ellipsis">
      get_speed_kmh(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_courseself" class="md-nav__link">
    <span class="md-ellipsis">
      get_course(self)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using the Database Connector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up a Virtual Environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setting up a Virtual Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-linux-mac-os-or-similar" class="md-nav__link">
    <span class="md-ellipsis">
      On Linux, Mac OS or similar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-using-cmd" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows, using CMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-using-powershell" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows, using PowerShell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-windows-unix-like-shells-eg-git-bash-cli" class="md-nav__link">
    <span class="md-ellipsis">
      On Windows' UNIX-like shells (e.g. Git Bash CLI)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticating-with-github" class="md-nav__link">
    <span class="md-ellipsis">
      Authenticating with GitHub
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    <span class="md-ellipsis">
      Update
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-the-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Import the SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-the-connection-to-the-drones-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Setup the connection to the drone's queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-signals-handling-function" class="md-nav__link">
    <span class="md-ellipsis">
      Create a signal's handling function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-the-connection" class="md-nav__link">
    <span class="md-ellipsis">
      Loop the connection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loop the connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asyncronous-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Asyncronous loop
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-messages-to-the-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Sending messages to the queue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sending messages to the queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sending-an-at-command-to-the-hat" class="md-nav__link">
    <span class="md-ellipsis">
      Sending an AT command to the hat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-instructions-to-the-drone-operator-via-the-instructions-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Sending instructions to the drone operator via the instructions topic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-and-unsubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      Subscribe and unsubscribe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subscribe and unsubscribe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-subscription-to-the-instructions-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Example subscription to the instructions queue
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Other functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#to-ask-the-hat-to-pause-sending-signals" class="md-nav__link">
    <span class="md-ellipsis">
      To ask the hat to pause sending signals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-ask-the-hat-to-resume-sending-signals" class="md-nav__link">
    <span class="md-ellipsis">
      To ask the hat to resume sending signals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-stop-the-loop-and-disconnect-from-the-mqtt-server" class="md-nav__link">
    <span class="md-ellipsis">
      To stop the loop and disconnect from the MQTT server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-signal-class" class="md-nav__link">
    <span class="md-ellipsis">
      The Signal class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Signal class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-lte-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a LTE network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-5g-nsa-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a 5G NSA network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-connected-to-a-5g-sa-network" class="md-nav__link">
    <span class="md-ellipsis">
      When connected to a 5G SA network
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-not-connected-to-a-network" class="md-nav__link">
    <span class="md-ellipsis">
      When not connected to a network
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-class-gpsposition" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Class: GPSPosition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Nested Class: GPSPosition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_datetimeself" class="md-nav__link">
    <span class="md-ellipsis">
      get_datetime(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_decimal_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_decimal_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dms_positionself" class="md-nav__link">
    <span class="md-ellipsis">
      get_dms_position(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_altitude_metersself" class="md-nav__link">
    <span class="md-ellipsis">
      get_altitude_meters(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_speed_knotsself" class="md-nav__link">
    <span class="md-ellipsis">
      get_speed_knots(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_speed_kmhself" class="md-nav__link">
    <span class="md-ellipsis">
      get_speed_kmh(self)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_courseself" class="md-nav__link">
    <span class="md-ellipsis">
      get_course(self)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="using-the-sorusboxscan-sdk">Using the SorusBoxScan SDK</h1>
<p>The <a href="https://github.com/aferre88/5gdrone-sdk">SorusBoxScan Python SDK</a> provides tools and libraries to help you develop applications for 5G-enabled drones.</p>
<h2 id="features">Features</h2>
<ul>
<li>Easy integration with 5G drones</li>
<li>Real-time data streaming</li>
<li>Advanced drone control APIs</li>
<li>Comprehensive documentation (in progress)</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>A system with Python installed</li>
<li>A virtual environment is recommended for running your project</li>
<li>The SDK is hosted in a private repository, so you need an authenticated Git session. Username/password prompts will not work on GitHub.</li>
</ul>
<h3 id="setting-up-a-virtual-environment">Setting up a Virtual Environment</h3>
<h4 id="on-linux-mac-os-or-similar">On Linux, Mac OS or similar</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nb">source</span><span class="w"> </span>.venv/bin/activate
</span></code></pre></div>
<h4 id="on-windows-using-cmd">On Windows, using CMD</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>.<span class="se">\.</span>venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate.bat
</span></code></pre></div>
<h4 id="on-windows-using-powershell">On Windows, using PowerShell</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>.<span class="se">\.</span>venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate.ps1
</span></code></pre></div>
<h4 id="on-windows-unix-like-shells-eg-git-bash-cli">On Windows' UNIX-like shells (e.g. Git Bash CLI)</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nb">source</span><span class="w"> </span>.venv/Scripts/activate
</span></code></pre></div>
<h3 id="authenticating-with-github">Authenticating with GitHub</h3>
<ol>
<li>
<p><strong>Install GitHub CLI:</strong></p>
<p>In Linux debian-based systems:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>gh
</span></code></pre></div>
<p>In Windows:
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>winget<span class="w"> </span>install<span class="w"> </span>--id<span class="w"> </span>GitHub.cli
</span></code></pre></div>
Or go to the <a href="https://cli.github.com/">GitHub CLI download page</a>.</p>
</li>
<li>
<p><strong>Authenticate GitHub CLI:</strong>
    <div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>gh<span class="w"> </span>auth<span class="w"> </span>login
</span></code></pre></div></p>
</li>
<li>
<p><strong>Follow the prompts to authenticate:</strong></p>
<ul>
<li>Select <code>GitHub.com</code>.</li>
<li>Choose <code>HTTPS</code> as the preferred protocol.</li>
<li>Authenticate with your preferred method (browser or token).</li>
</ul>
</li>
</ol>
<p>Now your Git session is authenticated for GitHub on both Linux and Windows using the GitHub CLI.</p>
<p>You can now use git on GitHub's private repositories you have access to just like if they were public.</p>
<h2 id="installation">Installation</h2>
<p>To install the SDK:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/aferre88/5gdrone-sdk
</span></code></pre></div>
<p>If your project has a <code>requirements.txt</code>, you can run <code>pip freeze &gt; requirements.txt</code> to pin the dependency.</p>
<h2 id="update">Update</h2>
<p>To upgrade the SDK to the latest version:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/aferre88/5gdrone-sdk<span class="w"> </span>-U
</span></code></pre></div>
<h2 id="usage">Usage</h2>
<p>Hereâ€™s a basic example to get started. You can use this as a template:</p>
<details class="example">
<summary>example.py</summary>
<div class="language-python highlight"><span class="filename">example.py</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="sd">This is an example of how to use the FiveGDroneSDK class to subscribe to the signals topic.</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fivegdrone_sdk</span><span class="w"> </span><span class="kn">import</span> <span class="n">FiveGDroneSDK</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># Environment variables</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">MQTT_BROKER</span> <span class="o">=</span> <span class="s2">&quot;mqtt.eclipse.org&quot;</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="n">MQTT_USERNAME</span> <span class="o">=</span> <span class="s2">&quot;username&quot;</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">MQTT_PASSWORD</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="n">MQTT_PORT</span> <span class="o">=</span> <span class="mi">1883</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c1"># Create a new instance of the SDK</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="n">hat</span> <span class="o">=</span> <span class="n">FiveGDroneSDK</span><span class="p">(</span><span class="n">MQTT_BROKER</span><span class="p">,</span> <span class="n">MQTT_PORT</span><span class="p">,</span> <span class="n">MQTT_USERNAME</span><span class="p">,</span> <span class="n">MQTT_PASSWORD</span><span class="p">)</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="c1"># The @hat.signals decorator is used to subscribe to the signals topic</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="c1"># The signal_printer function will be called every time a signal is received</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="c1"># The signal object is passed as an argument to the function</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="nd">@hat</span><span class="o">.</span><span class="n">signals</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="k">def</span><span class="w"> </span><span class="nf">signal_printer</span><span class="p">(</span><span class="n">signal</span><span class="p">):</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="sd">    In this example, all the attributes of the signal object are printed,</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="sd">    but you can modify the function to do whatever you want with the signal.</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="sd">    E.g. if you only need the rssi attribute, you can modify the function like this:</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="sd">    @hat.signals</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="sd">    def print_only_rssi(signal):</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="sd">        print(f&quot;Received signal: {signal.rssi}&quot;)</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Received signal:&quot;</span><span class="p">)</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>    <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">signal</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a>        <span class="k">if</span> <span class="n">attr</span> <span class="o">==</span> <span class="s2">&quot;position&quot;</span><span class="p">:</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a>            <span class="k">for</span> <span class="n">attr_val</span><span class="p">,</span> <span class="n">value_val</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    </span><span class="si">{</span><span class="n">attr_val</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    decimal degrees: </span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">get_decimal_position</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    degrees, minutes, seconds: </span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">get_dms_position</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-9-41"><a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-42"><a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a>
</span><span id="__span-9-43"><a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a>
</span><span id="__span-9-44"><a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="c1"># Starts the MQTT session and blocks the main thread so the program doesn&#39;t end</span>
</span><span id="__span-9-45"><a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="c1"># If you want the program to end, you can substitute the start_blocking method</span>
</span><span id="__span-9-46"><a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="c1"># with the hat.start_async() method.</span>
</span><span id="__span-9-47"><a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="n">hat</span><span class="o">.</span><span class="n">start_blocking</span><span class="p">()</span>
</span></code></pre></div>
</details>
<h3 id="basic-integration">Basic integration</h3>
<h4 id="import-the-sdk">Import the SDK</h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fivegdrone_sdk</span><span class="w"> </span><span class="kn">import</span> <span class="n">FiveGDroneSDK</span>
</span></code></pre></div>
<h4 id="setup-the-connection-to-the-drones-queue">Setup the connection to the drone's queue</h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">hat</span> <span class="o">=</span> <span class="n">FiveGDroneSDK</span><span class="p">(</span><span class="n">MQTT_BROKER</span><span class="p">,</span> <span class="n">MQTT_PORT</span><span class="p">,</span> <span class="n">MQTT_USERNAME</span><span class="p">,</span> <span class="n">MQTT_PASSWORD</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="create-a-signals-handling-function">Create a signal's handling function</h4>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nd">@hat</span><span class="o">.</span><span class="n">signals</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">signal_handling_function</span><span class="p">(</span><span class="n">signal</span><span class="p">):</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Signal received in band </span><span class="si">{</span><span class="n">signal</span><span class="o">.</span><span class="n">frequency_band</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
Your function will be called for every signal received from the drone.</p>
<p>Check the <a href="#the-signal-class">list of attributes for the Signal class</a>.</p>
<p>Instead of the <code>@hat.signals</code> decorator, you can use the <code>@hat.raw_signals</code> decorator to receive all the information in a single string rather than a Signal object.</p>
<h4 id="loop-the-connection">Loop the connection</h4>
<p>You need to trigger the connection loop in order for the MQTT handler to process the messages.</p>
<p>Typically you will need to block the execution of the script to avoid the program exiting rather than keeping the connection open indefinitelly, for doing this, you can use this sentence:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">start_blocking</span><span class="p">()</span>
</span></code></pre></div>
<h5 id="asyncronous-loop">Asyncronous loop</h5>
<p>If you don't want to block the execution of the script (e.g. you are handling your own threads), you can use the non-blocking alternative:
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">start_async</span><span class="p">()</span>
</span></code></pre></div></p>
<h4 id="sending-messages-to-the-queue">Sending messages to the queue</h4>
<p>Messages can be passed to the queue in order to control the drone or to return information that might be useful for other consumers connected to the queue.</p>
<h5 id="sending-an-at-command-to-the-hat">Sending an AT command to the hat</h5>
<p>E.g. to send the AT message to turn on the GPS module
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;control/command&#39;</span><span class="p">,</span> <span class="s1">&#39;AT+CGPS=1&#39;</span><span class="p">)</span>
</span></code></pre></div></p>
<h5 id="sending-instructions-to-the-drone-operator-via-the-instructions-topic">Sending instructions to the drone operator via the instructions topic</h5>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;instructions&#39;</span><span class="p">,</span> <span class="s1">&#39;Go to (53,47)&#39;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="subscribe-and-unsubscribe">Subscribe and unsubscribe</h4>
<p>You can subscribe yourself to arbitrary topics in the MQTT server. This allows you to exchange information between different related systems.</p>
<h5 id="example-subscription-to-the-instructions-queue">Example subscription to the instructions queue</h5>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">do_for_each_instructions_message</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">userdata</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instructions message: </span><span class="si">{</span><span class="n">message</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">hat</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="s1">&#39;instructions&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">do_for_each_instructions_message</span><span class="p">)</span> <span class="c1"># Topic, QOS, callback</span>
</span></code></pre></div>
<p>You can later undo the subscription with:
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="s1">&#39;instructions&#39;</span><span class="p">,</span> <span class="n">do_for_each_instructions_message</span><span class="p">)</span>
</span></code></pre></div></p>
<h4 id="other-functions">Other functions</h4>
<h5 id="to-ask-the-hat-to-pause-sending-signals">To ask the hat to pause sending signals</h5>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
</span></code></pre></div>
<h5 id="to-ask-the-hat-to-resume-sending-signals">To ask the hat to resume sending signals</h5>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">resume</span><span class="p">()</span>
</span></code></pre></div>
<h5 id="to-stop-the-loop-and-disconnect-from-the-mqtt-server">To stop the loop and disconnect from the MQTT server</h5>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">hat</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span></code></pre></div>
<h2 id="the-signal-class">The Signal class</h2>
<p>The <code>Signal</code> class represents signals received from the drone. It is designed to handle various types of signals and provides methods to access and represent these signals.</p>
<h3 id="attributes">Attributes</h3>
<ul>
<li><code>position</code> (<a href="#nested-class-gpsposition">GPSPosition</a>): The GPS position data.</li>
<li><code>system_mode</code> (str): The type of network used by the drone.</li>
<li><code>operation_mode</code> (str): The mode of operation of the hat. It will usually be <code>Online</code>.</li>
<li><code>mcc</code> (str): The Mobile Country Code.</li>
<li><code>mnc</code> (str): The Mobile Network Code.</li>
<li><code>tac</code> (str): The Tracking Area Code.</li>
<li><code>scell_id</code> (str): The serving cell ID.</li>
<li><code>pcell_id</code> (str): The primary cell ID.</li>
<li><code>frequency_band</code> (str): The frequency band.</li>
<li><code>earfcn</code> (str): The E-UTRA Absolute Radio Frequency Channel Number.</li>
<li><code>dlbw</code> (str): The downlink bandwidth.</li>
<li><code>ulbw</code> (str): The uplink bandwidth.</li>
<li><code>rsrq</code> (str): The Reference Signal Received Quality.</li>
<li><code>rsrp</code> (str): The Reference Signal Received Power.</li>
<li><code>rssi</code> (str): The Received Signal Strength Indicator.</li>
<li><code>rssnr</code> (str): The Reference Signal Signal-to-Noise Ratio.</li>
<li><code>snr</code> (str): The Signal-to-Noise Ratio.</li>
<li><code>scs</code> (str): The Subcarrier Spacing.</li>
<li><code>nr_dl_bw</code> (str): The NR downlink bandwidth.</li>
</ul>
<p>Note that not all attributes will be set in all signals, as the device might be connected to multiple bands.</p>
<h4 id="when-connected-to-a-lte-network">When connected to a LTE network</h4>
<p>You will receive one signal with the following attributes:</p>
<ul>
<li><code>position</code> (<a href="#nested-class-gpsposition">GPSPosition</a>): The GPS position data.</li>
<li><code>system_mode</code> (str): The type of network used by the drone.</li>
<li><code>operation_mode</code> (str): The mode of operation of the hat. It will usually be <code>Online</code>.</li>
<li><code>mcc</code> (str): The Mobile Country Code.</li>
<li><code>mnc</code> (str): The Mobile Network Code.</li>
<li><code>tac</code> (str): The Tracking Area Code.</li>
<li><code>scell_id</code> (str): The serving cell ID.</li>
<li><code>pcell_id</code> (str): The primary cell ID.</li>
<li><code>frequency_band</code> (str): The frequency band.</li>
<li><code>earfcn</code> (str): The E-UTRA Absolute Radio Frequency Channel Number.</li>
<li><code>dlbw</code> (str): The downlink bandwidth.</li>
<li><code>ulbw</code> (str): The uplink bandwidth.</li>
<li><code>rsrq</code> (str): The Reference Signal Received Quality.</li>
<li><code>rsrp</code> (str): The Reference Signal Received Power.</li>
<li><code>rssi</code> (str): The Received Signal Strength Indicator.</li>
<li><code>rssnr</code> (str): The Reference Signal Signal-to-Noise Ratio.</li>
</ul>
<p><code>system_node</code> will be <code>LTE</code>.</p>
<h4 id="when-connected-to-a-5g-nsa-network">When connected to a 5G NSA network</h4>
<p>You will receive a <code>LTE</code> signal following the previous definition, and one or more signals with <code>system_mode</code> set to <code>NR5G_NSA</code> and the following attributes:</p>
<ul>
<li><code>position</code> (<a href="#nested-class-gpsposition">GPSPosition</a>): The GPS position data.</li>
<li><code>system_mode</code> (str): The type of network used by the drone.</li>
<li><code>pcell_id</code> (str): The primary cell ID.</li>
<li><code>frequency_band</code> (str): The frequency band.</li>
<li><code>earfcn</code> (str): The E-UTRA Absolute Radio Frequency Channel Number.</li>
<li><code>rsrp</code> (str): The Reference Signal Received Power.</li>
<li><code>rsrq</code> (str): The Reference Signal Received Quality.</li>
<li><code>snr</code> (str): The Signal-to-Noise Ratio.</li>
<li><code>scs</code> (str): The Subcarrier Spacing.</li>
<li><code>nr_dl_bw</code> (str): The NR downlink bandwidth.</li>
</ul>
<h4 id="when-connected-to-a-5g-sa-network">When connected to a 5G SA network</h4>
<p>You will receive signals with the <code>system_mode</code> set to <code>NR5G_SA</code>, and the following attributes:</p>
<ul>
<li><code>position</code> (<a href="#nested-class-gpsposition">GPSPosition</a>): The GPS position data.</li>
<li><code>system_mode</code> (str): The type of network used by the drone.</li>
<li><code>operation_mode</code> (str): The mode of operation of the hat. It will usually be <code>Online</code>.</li>
<li><code>mcc</code> (str): The Mobile Country Code.</li>
<li><code>mnc</code> (str): The Mobile Network Code.</li>
<li><code>tac</code> (str): The Tracking Area Code.</li>
<li><code>scell_id</code> (str): The serving cell ID.</li>
<li><code>pcell_id</code> (str): The primary cell ID.</li>
<li><code>frequency_band</code> (str): The frequency band.</li>
<li><code>earfcn</code> (str): The E-UTRA Absolute Radio Frequency Channel Number.</li>
<li><code>rsrp</code> (str): The Reference Signal Received Power.</li>
<li><code>rsrq</code> (str): The Reference Signal Received Quality.</li>
<li><code>snr</code> (str): The Signal-to-Noise Ratio.</li>
</ul>
<h4 id="when-not-connected-to-a-network">When not connected to a network</h4>
<p>You will receive signals with the <code>system_mode</code> set to <code>NO SERVICE</code>, and the following attributes:</p>
<ul>
<li><code>position</code> (<a href="#nested-class-gpsposition">GPSPosition</a>): The GPS position data.</li>
<li><code>system_mode</code> (str): The type of network used by the drone.</li>
<li><code>operation_mode</code> (str): The mode of operation of the hat. It will usually be <code>Online</code>.</li>
</ul>
<h3 id="nested-class-gpsposition">Nested Class: GPSPosition</h3>
<p>The <code>GPSPosition</code> class represents GPS position data.</p>
<h4 id="methods">Methods</h4>
<h5 id="get_datetimeself"><code>get_datetime(self)</code></h5>
<p>Returns the date and time reported by the GPS service.</p>
<p><strong>Returns:</strong>
- <code>datetime</code>: Date and time reported by the GPS service.</p>
<h5 id="get_positionself"><code>get_position(self)</code></h5>
<p>Returns the GPS position in DDMM.MMMMMM format (decimal minutes).</p>
<p><strong>Returns:</strong>
- <code>tuple</code>: A tuple containing the latitude and longitude of the GPS position.
    - <code>float</code>: Latitude in DDMM.MMMMMM format.
    - <code>str</code>: Latitude direction (N or S).
    - <code>float</code>: Longitude in DDMM.MMMMMM format.
    - <code>str</code>: Longitude direction (E or W).</p>
<h5 id="get_decimal_positionself"><code>get_decimal_position(self)</code></h5>
<p>Returns the GPS position in decimal degrees.</p>
<p><strong>Returns:</strong>
- <code>tuple</code>: A tuple containing the latitude and longitude of the GPS position.
    - <code>float</code>: Latitude in decimal degrees.
    - <code>float</code>: Longitude in decimal degrees.</p>
<h5 id="get_dms_positionself"><code>get_dms_position(self)</code></h5>
<p>Returns the GPS position in sexagesimal format.</p>
<p><strong>Returns:</strong>
- <code>tuple</code>: A tuple containing the latitude and longitude of the GPS position.
    - <code>tuple</code>: A tuple containing the latitude in sexagesimal format.
        - <code>int</code>: Degrees.
        - <code>int</code>: Minutes.
        - <code>float</code>: Seconds.
        - <code>str</code>: Direction (N or S).
    - <code>tuple</code>: A tuple containing the longitude in sexagesimal format.
        - <code>int</code>: Degrees.
        - <code>int</code>: Minutes.
        - <code>float</code>: Seconds.
        - <code>str</code>: Direction (E or W).</p>
<h5 id="get_altitude_metersself"><code>get_altitude_meters(self)</code></h5>
<p>Returns the altitude of the GPS position in meters.</p>
<p><strong>Returns:</strong>
- <code>float</code>: The altitude of the GPS in meters.</p>
<h5 id="get_speed_knotsself"><code>get_speed_knots(self)</code></h5>
<p>Returns the speed of the GPS position in knots.</p>
<p><strong>Returns:</strong>
- <code>float</code>: The speed of the GPS in knots.</p>
<h5 id="get_speed_kmhself"><code>get_speed_kmh(self)</code></h5>
<p>Returns the speed of the GPS position in km/h.</p>
<p><strong>Returns:</strong>
- <code>float</code>: The speed of the GPS in km/h.</p>
<h5 id="get_courseself"><code>get_course(self)</code></h5>
<p>Returns the course of the GPS position.</p>
<p><strong>Returns:</strong>
- <code>float</code>: The course of the GPS position.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../js/logos.js"></script>
      
    
  </body>
</html>